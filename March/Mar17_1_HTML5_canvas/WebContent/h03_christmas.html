<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="jQuery.js"></script>
<script type="text/javascript">
	function getRandomColor() {
		var r = Math.random() * 255, g = Math.random() * 255, b = Math.random() * 255;
		return "rgb(" + r + ", " + g + ", " + b + ")";
	}

	$(function() {
		var paper = document.getElementById("paper");
		var pen = paper.getContext("2d");
		
		setInterval(function() {
			pen.save(); // <- 기본상태 저장
			
			pen.fillStyle = "#00000011";
			pen.fillRect(0, 0, 500, 500); // 기존 거를 덮어버린다는 개념(아이디어)
			
			// 그림자
			pen.shadowOffsetX = 0;
			pen.shadowOffsetY = 0;
			pen.shadowBlur = 20;
			pen.shadowColor = "yellow";
			
			var l = Math.random() * 500, t = Math.random() * 500;
			pen.fillStyle = getRandomColor();
			pen.fillRect(l, t, 50, 50);
			
			pen.restore(); // <- 기본상태 불러오고 반복으로
		}, 50);
	});
</script>
<style type="text/css">
#paper {
	border: black solid 3px;
}
</style>
</head>
<body>
	<canvas id="paper" width="500px" height="500px"></canvas>
</body>
</html>